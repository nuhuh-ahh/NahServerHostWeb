<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Download - Nah Server Host</title>
  <link rel="stylesheet" href="download.css">
</head>
<body>
  <nav>
    <a href="/">Home</a>
    <a href="/feature">Features</a>
    <a href="/howtouse">How to Use</a>
    <a href="/download">Download</a>
  </nav>

  <h1>â¬‡ Download</h1>
  <button id="startDownloadBtn" class="download-btn">Download</button>

  <!-- Popup Progress -->
  <div id="progressPopup" class="popup hidden">
    <div class="popup-content">
      <h2>Preparing download...</h2>
      <div class="progress-bar">
        <div id="progressFill" class="progress-fill"></div>
      </div>
      <p id="progressText">0%</p>
    </div>
  </div>

  <!-- Popup Final Download -->
  <div id="finalPopup" class="popup hidden">
    <div class="popup-content">
      <h2>Your download is ready!</h2>
      <a href="NahServerHost_Setup.exe" class="real-download-btn">Download Now</a>
    </div>
  </div>

  <script>
    const startBtn = document.getElementById("startDownloadBtn");
    const progressPopup = document.getElementById("progressPopup");
    const finalPopup = document.getElementById("finalPopup");
    const progressFill = document.getElementById("progressFill");
    const progressText = document.getElementById("progressText");

    const steps = [1, 5, 19, 53, 81, 99, 100];
    let i = 0;

    startBtn.addEventListener("click", () => {
      progressPopup.classList.remove("hidden");
      i = 0;
      progressFill.style.width = "0%";
      progressText.textContent = "0%";

      const interval = setInterval(() => {
        if (i < steps.length) {
          progressFill.style.width = steps[i] + "%";
          progressText.textContent = steps[i] + "%";
          i++;
        } else {
          clearInterval(interval);
          setTimeout(() => {
            progressPopup.classList.add("hidden");
            finalPopup.classList.remove("hidden");
          }, 800);
        }
      }, 800);
    });
  </script>
</body>
</html>
